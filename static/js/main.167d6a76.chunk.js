(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,function(e,t,n){e.exports={root:"Recipe_root__r_TVc",header:"Recipe_header__3t2xs",title:"Recipe_title__3TYhV",headerExpanded:"Recipe_headerExpanded__3lpI-",titleExpanded:"Recipe_titleExpanded__16b3J",ingredientsContainer:"Recipe_ingredientsContainer__14WL9",ingredientsContainerEnter:"Recipe_ingredientsContainerEnter__236LQ",exit:"Recipe_exit__14Cl6",ingredientsList:"Recipe_ingredientsList__2Cj2s",ingredientsListItem:"Recipe_ingredientsListItem__2iFAA",ingredientsTitle:"Recipe_ingredientsTitle__chK9N",spacer:"Recipe_spacer__cfU9g"}},function(e,t,n){e.exports={container:"RecipeModal_container__2Po9g",headerContainer:"RecipeModal_headerContainer__2Qmc7",header:"RecipeModal_header__3kjj5",form:"RecipeModal_form__3XV_G",spacer:"RecipeModal_spacer__3CgHs",horizontalSpacer:"RecipeModal_horizontalSpacer__34IX1",buttonsContainer:"RecipeModal_buttonsContainer__2il6O"}},function(e,t,n){e.exports={root:"App_root__2h8CC",appHeader:"App_appHeader__28RXF",appTitle:"App_appTitle__2SEQk",overlay:"App_overlay__1bKt8",overlayEnter:"App_overlayEnter__1ACRJ",modalContainer:"App_modalContainer__3QGBJ",modalContainerEnter:"App_modalContainerEnter__1Pmf6"}},function(e,t,n){e.exports={root:"Button_root__2FxWv",medium:"Button_medium__2BQkt",big:"Button_big__2k8Pn",contained:"Button_contained__Ru0Gx",text:"Button_text__2oqP9"}},,function(e,t,n){e.exports={inputContainer:"TextField_inputContainer__3G7SH",label:"TextField_label__35zEt",input:"TextField_input__3mY3W",labelFilled:"TextField_labelFilled__4djsQ",helperText:"TextField_helperText__3NQzh"}},function(e,t,n){e.exports={root:"RecipesList_root__1Qfkt",list:"RecipesList_list__3jn67",buttonContainer:"RecipesList_buttonContainer__2zuEz",emptyListPlaceholder:"RecipesList_emptyListPlaceholder__xj3v2"}},,,,,,function(e,t,n){e.exports=n(22)},,,,,,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(12),c=n.n(i),o=(n(20),n(1)),l=n(7),s=n.n(l),d=function(e){var t=e.label,n=e.helperText,a=e.onChange,i=e.value;return r.a.createElement("div",null,r.a.createElement("div",{className:s.a.inputContainer},r.a.createElement("input",{onChange:a,value:i,className:s.a.input,id:"name"}),r.a.createElement("label",{className:"".concat(s.a.label," ").concat(""!==i?s.a.labelFilled:""),htmlFor:"name"},t)),n?r.a.createElement("div",{className:s.a.helperText},n):null)},u=n(5),m=n.n(u),p={contained:m.a.contained,outlined:m.a.outlined,text:m.a.text},_={big:m.a.big,medium:m.a.medium},E=function(e){var t=e.onClick,n=e.children,a=e.type,i=e.color,c=e.size,o=void 0===c?"medium":c,l="".concat(m.a.root," ").concat(p[a]," ").concat(_[o]);return r.a.createElement("button",{onClick:t,className:l,style:{color:i}},n)},f=n(10),b=n(6),v=n.n(b),g=n(9),h=r.a.createContext(null),C=function(e){var t=e.children,n=e.db,i=Object(a.useState)([]),c=Object(o.a)(i,2),l=c[0],s=c[1];Object(a.useEffect)(function(){n&&function(){var e=Object(g.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getAll("recipes");case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[n]);var d={recipes:l,addRecipe:function(e){var t=e.name,a=e.ingredients;if(""!==t&&""!==a){var r={id:"_"+Math.random().toString(36).substr(2,9),name:t,ingredients:a};s([].concat(Object(f.a)(l),[r])),n.add("recipes",r).catch(function(e){alert("There was a problem adding new recipe to db, sorry :("),console.error(e)})}},editRecipe:function(e,t){var a=t.name,r=t.ingredients;if(console.log("Editing",{name:a,ingredients:r,id:e}),""!==a&&""!==r&&e){var i={id:e,name:a,ingredients:r},c=l.findIndex(function(t){return t.id===e});s([].concat(Object(f.a)(l.slice(0,c)),[i],Object(f.a)(l.slice(c+1,l.length)))),n.put("recipes",i).catch(function(e){alert("There was a problem updating a recipe, sorry :("),console.error(e)})}},deleteRecipe:function(e){s(l.filter(function(t){return t.id!==e})),n.delete("recipes",e).catch(function(e){alert("There was a problem deleting a recipe from db, sorry :("),console.error(e)})}};return r.a.createElement(h.Provider,{value:d},t)},x=n(3),j=n.n(x),R=function(e){var t=e.onClose,n=e.recipe,i=Object(a.useContext)(h),c=i.editRecipe,l=i.addRecipe,s=n?n.name:"",u=n?n.ingredients.join(", "):"",m=Object(a.useState)(s),p=Object(o.a)(m,2),_=p[0],f=p[1],b=Object(a.useState)(u),v=Object(o.a)(b,2),g=v[0],C=v[1],x=n?"Edit a recipe ":"Add a recipe";return r.a.createElement("div",{className:j.a.container},r.a.createElement("div",{className:j.a.headerContainer},r.a.createElement("h2",{className:j.a.header},x)),r.a.createElement("div",{className:j.a.form},r.a.createElement(d,{value:_,onChange:function(e){var t=e.currentTarget.value;f(t)},label:"Recipe Name"}),r.a.createElement("div",{className:j.a.spacer}),r.a.createElement(d,{value:g,onChange:function(e){var t=e.currentTarget.value;C(t)},label:"Ingredients",helperText:"*coma separated values"})),r.a.createElement("div",{className:j.a.buttonsContainer},r.a.createElement(E,{onClick:t,type:"text"},"Cancel"),r.a.createElement("div",{className:j.a.horizontalSpacer}),r.a.createElement(E,{onClick:function(){var e={name:_.trim(),ingredients:g.trim().split(",")};n?c(n.id,e):l(e),t()},type:"contained"},x)))},y=function(e){var t=e.children,n=e.timeout,r=e.isActive,i=Object(a.useState)(null),c=Object(o.a)(i,2),l=c[0],s=c[1],d=Object(a.useRef)(null);return Object(a.useEffect)(function(){!l&&r?(s("init"),d.current&&clearTimeout(d.current),d.current=null,setTimeout(function(){s("enter")},50)):!l||r||d.current||(s("exit"),d.current=setTimeout(function(){s(null)},n))},[r,n,l]),l?t(l):null},N=n(2),O=n.n(N),T=function(e){var t=e.recipe,n=e.isExpanded,a=e.toggleExpanded,i=e.onEditPressed,c=e.onDeletePressed;return r.a.createElement("li",{className:O.a.root,onClick:function(){a(t)}},r.a.createElement("div",{className:"".concat(O.a.header," ").concat(n?O.a.headerExpanded:"")},r.a.createElement("h2",{className:"".concat(O.a.title," ").concat(n?O.a.titleExpanded:"")},t.name),n?r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{type:"text",color:"black",onClick:function(e){e.stopPropagation(),i(t,e)}},"Edit"),r.a.createElement("div",{className:O.a.spacer}),r.a.createElement(E,{type:"text",color:"red",onClick:function(e){e.stopPropagation(),c(t.id,e)}},"Delete")):null),r.a.createElement(y,{isActive:n,timeout:300},function(e){return r.a.createElement("div",{className:"".concat(O.a.ingredientsContainer," ").concat("enter"===e?O.a.ingredientsContainerEnter:null)},r.a.createElement("h3",{className:O.a.ingredientsTitle},"Ingredients"),r.a.createElement("ul",{className:O.a.ingredientsList},t.ingredients.map(function(e){return r.a.createElement("li",{className:O.a.ingredientsListItem,key:e},e)})))}))},k=n(8),w=n.n(k),P=function(e){var t=e.onEditPressed,n=e.onAddPressed,i=Object(a.useState)(null),c=Object(o.a)(i,2),l=c[0],s=c[1],d=Object(a.useContext)(h),u=d.recipes,m=d.deleteRecipe,p=function(e){s(e===l?null:e)};return r.a.createElement("div",{className:w.a.root},0!==u.length?r.a.createElement("ul",{className:w.a.list},u.map(function(e){return r.a.createElement(T,{key:e.id,recipe:e,isExpanded:l===e,onEditPressed:t,onDeletePressed:m,toggleExpanded:p})})):r.a.createElement("div",{className:w.a.emptyListPlaceholder},"You don't have any recipes saved. Use button below to add your first yummy recipe ",r.a.createElement("span",{role:"img","aria-label":"Smilling emoji"},"\ud83d\ude0a")),r.a.createElement("div",{className:w.a.buttonContainer},r.a.createElement(E,{onClick:n,type:"contained",size:"big"},"Add a recipe")))},A=n(13),S=n(4),L=n.n(S),F=function(){var e=Object(a.useState)(null),t=Object(o.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)(null),l=Object(o.a)(c,2),s=l[0],d=l[1],u=Object(a.useState)(!1),m=Object(o.a)(u,2),p=m[0],_=m[1];Object(a.useEffect)(function(){Object(A.a)("YummyRecipesDB",1,{upgrade:function(e){e.createObjectStore("recipes",{keyPath:"id"})}}).then(function(e){i(e)}).catch(function(e){alert("There was a problem connecting to db, sorry :("),console.error(e)})},[]);var E=function(){d(null),_(!1)};return r.a.createElement(C,{db:n},r.a.createElement("header",{className:L.a.appHeader},r.a.createElement("h1",{className:L.a.appTitle},"Yummy Recipes")),r.a.createElement("div",{className:L.a.root},r.a.createElement(P,{onEditPressed:function(e){d(e),_(!0)},onAddPressed:function(){_(!0)}}),r.a.createElement(y,{isActive:p,timeout:300},function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{onClick:E,className:"".concat(L.a.overlay," ").concat("enter"===e?L.a.overlayEnter:"")}),r.a.createElement("div",{className:"".concat(L.a.modalContainer," ").concat("enter"===e?L.a.modalContainerEnter:"")},r.a.createElement(R,{onClose:E,recipe:s})))})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[14,1,2]]]);
//# sourceMappingURL=main.167d6a76.chunk.js.map